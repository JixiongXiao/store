 https://juejin.cn/post/6947936223126093861
 浏览器缓存相关知识
 web缓存有数据库缓存，CDN缓存，代理服务器缓存，浏览器缓存
 浏览器缓存位置一般为Service Worker-->Memory Cache-->Disk Cache-->Push Cache。
 浏览器缓存过程分为强缓存 协商缓存

缓存流程看文件夹中 缓存过程.jpg

强缓存
强缓存是当我们访问URL的时候，不会向服务器发送请求，直接从缓存中读取资源，但是会返回200的状态码。

*如何设置强缓存？
我们第一次进入页面，请求服务器，然后服务器进行应答，浏览器会根据response Header来判断是否对资源进行缓存，
如果响应头中expires、pragma或者cache-control字段，代表这是强缓存，浏览器就会把资源缓存在memory cache 或 disk cache中。
第二次请求时，浏览器判断请求参数，如果符合强缓存条件就直接返回状态码200，从本地缓存中拿数据。
否则把响应参数存在request header请求头中，向服务器发送请求，看是否符合协商缓存，符合则返回状态码304，
继续从缓存获取数据，不符合则服务器会返回全新资源。

*expire和Cache-Control的区别？
expire
是HTTP1.0控制网页缓存的字段，值为一个时间戳，浏览器会根据本地时间和expire的时间来判断缓存是否过期.
Cache-Control
是HTTP1.1中控制网页缓存的字段，当Cache-Control都存在时，Cache-Control优先级更高，主要取值为：
public：资源客户端和服务器都可以缓存。
privite：资源只有客户端可以缓存。
no-cache：客户端缓存资源，但是是否缓存需要经过协商缓存来验证。
no-store：不使用缓存。
max-age：缓存保质期。
两者区别
expire主要的缺陷在于用本地时间判断，而本地时间可以被修改。
cache-control使用mag-age作为相对时间来判断缓存是否过期，单位为秒

协商缓存
协商缓存就是强缓存失效后，浏览器携带缓存标识向服务器发送请求，由服务器根据缓存标识来决定是否使用缓存的过程。
如果服务器数据没更新，返回304，继续从缓存中获取数据，如果服务器数据更新了，返回200，重新获取请求。

协商缓存的标识
last-modified/last-modified-since 保存的时一个时间戳
etag/if-none-match 保存的是哈希值 优先级最高，两个同时存在时etag组合生效

*返回200和返回304的区别？
当发生强缓存的时候，客户端从缓存获取数据，此时会返回200状态码
在协商缓存过程中，返回304时则说明服务器数据没更新，客户端从缓存获取数据
如果返回200，说明数据发生改变，客户端从服务端获取数据

*强缓存和协商缓存的区别？
发生强缓存时客户端不会向服务端发送请求，此时服务端数据发生改变了客户端也不知道
协商缓存时客户端会发送请求到服务端，所以一定会知道数据是否有更新。